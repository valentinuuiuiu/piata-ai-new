# Jules Manual Operations Guide

This guide provides instructions on how to manually operate the Jules Orchestrator and its subagents, specifically designed for when you need to continue work without the AI assistant.

## 1. The Jules TUI (Text User Interface)

The primary entry point for manual interaction is the `wake-jules.sh` script.

### Launching the TUI

To start the interactive menu:

```bash
./subagents/wake-jules.sh
```

This will present you with a menu to wake up specific subagents:

1. **Stripe Agent**: The Financial Architect
2. **Redis Agent**: The Memory Keeper
3. **GitHub Agent**: The Builder
4. **Wake ALL**: Runs all agents in the background

### Troubleshooting Permission Denied

If you see a "Permission denied" error, ensure the scripts are executable:

```bash
chmod +x ./subagents/*.sh
```

## 2. Running Subagents Manually

You can run each subagent individually if you don't want to use the TUI.

### Stripe Agent

```bash
./subagents/stripe-agent.sh
```

### Redis Agent

```bash
./subagents/redis-agent.sh
```

### GitHub Agent

```bash
./subagents/github-agent.sh
```

These scripts typically start an MCP (Model Context Protocol) server that listens for connections.

## 3. Testing Connections

To verify that the subagents are communicating correctly with the Orchestrator, use the test script.

### Running the Test Script

You can run the TypeScript test script using `npx tsx`:

```bash
npx tsx scripts/test-mcp-connection.ts
```

This script will:

1. Connect to the Stripe Subagent.
2. List available tools.
3. Verify the connection.

## 4. Extending the System

### Adding a New Subagent

1. **Create the Script**: Create a new shell script in `subagents/` (e.g., `analytics-agent.sh`).
2. **Update the TUI**: Edit `subagents/wake-jules.sh` to include the new agent in the menu.

```bash
# Example addition to wake-jules.sh
echo "5. [Analytics] The Insight Seer"
...
case $choice in
    5)
        ./subagents/analytics-agent.sh
        ;;
```

### Registering in Orchestrator

Update `src/lib/ai-orchestrator.ts` to include the new agent definition in the `AGENTS` object if it's an LLM-based agent, or create a new `MCPClient` instance for tool-based agents.

## 5. AI Orchestrator Logic

The core logic resides in `src/lib/ai-orchestrator.ts`.

- **Agent Selection**: `selectAgent()` determines which agent (Claude, Grok, Llama, Qwen) handles a task.
- **Execution**: `executeTask()` handles the API calls to OpenRouter.
- **Learning**: `storeAgentLearning()` saves execution results to Supabase.

To modify agent behavior or add new models, edit the `AGENTS` constant in this file.

## 6. Emergency/Manual Mode

If the TUI fails or you are rate-limited:

1. **Check Logs**: Look for output in the terminal where you ran the script.
2. **Direct Execution**: Run the underlying commands inside the `.sh` files directly if needed.
3. **Database Check**: Use the Supabase dashboard to verify `agent_learning_history` or other tables if you suspect data issues.

---

_Generated by Antigravity for the Piata AI Project._
